<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E03 - Blueprint Make - dtic-GEMA</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <div id="sidebar-root"></div>

    <main class="main-content">
        <div class="nav-buttons no-print">
            <a href="index.html" class="btn btn-outline">← Volver al Portal</a>
            <button onclick="window.print()" class="btn">Imprimir a PDF</button>
        </div>

        <div class="container">
            <header>
                <img src="assets/img/logo_utn.png" alt="UTN Logo" class="logo">
                <div class="header-text">
                    <h1>Entregable E03</h1>
                    <p>Blueprint del Escenario Make.com</p>
                </div>
            </header>

            <section>
                <h2 id="diagrama">1. Diagrama de Flujo del Proceso</h2>
                <p>El núcleo operativo de <strong>dtic-GEMA</strong> reside en este flujo automatizado, donde el
                    <strong>Orquestador
                        Make</strong> actúa como el puente entre la <strong>Interfaz Chatbot</strong> y la capa de
                    inteligencia.
                </p>

                <img src="assets/img/escenario_make.png" alt="Escenario Make"
                    style="width: 100%; border-radius: 8px; margin: 20px 0; border: 1px solid #333;">

                <h2 id="descarga">2. Descarga del Blueprint</h2>
                <p>Se adjunta el archivo JSON del blueprint para su importación y auditoría técnica:</p>

                <div class="highlight-box" style="text-align: center;">
                    <p><strong>Archivo:</strong> <code>blueprint_gema.json</code></p>
                    <a href="assets/data/blueprint_gema.json" download class="btn" style="margin-top: 10px;">
                        ↓ Descargar Blueprint JSON
                    </a>
                </div>

                <h2 id="explicacion">3. Explicación de Nodos Claves</h2>
                <ul>
                    <li><strong>Custom Webhook:</strong> Recibe el payload JSON desde la <strong>Interfaz
                            Chatbot</strong> (Email, DNI, Descripción).</li>
                    <li><strong>Google Sheets Filter:</strong> Valida en tiempo real que el usuario exista en la base de
                        datos de Agentes.</li>
                    <li><strong>Router Lógico:</strong> Divide el tráfico. Si es positivo, procede a la interacción con
                        la <strong>IA Gemini</strong> para la categorización; si es negativo, deniega el acceso.</li>
                    <li><strong>Google Sheets Add Row:</strong> Registra la incidencia con un ID único serializado en la
                        hoja de Tickets.</li>
                    <li><strong>Webhook Respond:</strong> Devuelve la respuesta generada por la IA a la interfaz web.
                    </li>
                </ul>
            </section>

            <div id="footer-root"></div>
        </div>
    </main>

    <script src="assets/js/layout.js"></script>
    <script src="assets/js/navigation.js"></script>
</body>

</html>